version: "2"
sql:
  # Core checks - generate all to shared db package
  - engine: "postgresql"
    queries:
      - "checks/pgversion"
      - "checks/invalidindexes"
      - "checks/sessionsettings"
      - "checks/vacuumsettings"
      - "checks/replicationslots"
      - "checks/partitioning"
      - "checks/partitionusage"
      - "checks/connectionhealth"
      - "checks/connectionefficiency"
      - "checks/pktypes"
      - "checks/uuidtypes"
      - "checks/sequencehealth"
      - "checks/toaststorage"
      - "checks/uuiddefaults"
      - "checks/indexusage"
      - "checks/duplicateindexes"
      - "checks/tableseqscans"
      - "checks/cacheefficiency"
      - "checks/statisticsfreshness"

      - "checks/freezeage"
      - "checks/tablebloat"
      - "checks/indexbloat"
      - "checks/tempusage"
      - "checks/replicationlag"
      - "checks/tablevacuumhealth"
      - "checks/tableactivity"
    database:
      uri: "postgres://postgres:postgres@localhost:5432/postgres?sslmode=disable"
    gen:
      go:
        package: "db"
        out: "db"
        sql_package: "pgx/v5"
